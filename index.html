<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Alwaysisviolet</title>
    <!-- Link đến file CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- Link đến thư viện icon Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- THAY ĐỔI Ở ĐÂY: Link đến font chữ pixel mới (VT323) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Màn hình chờ -->
    <div id="landing-screen">
        <div class="landing-content">
            <h1 class="enter-text">tìm tôi đúm khum???</h1>
            <div class="button-container">
                <button id="yes-btn" class="choice-btn">Ừ</button>
                <button id="no-btn" class="choice-btn">Không</button>
            </div>
        </div>
    </div>

    <!-- Hộp thoại cảnh báo tùy chỉnh -->
    <div id="custom-alert" class="hidden">
        <div class="alert-box">
            <p id="alert-message"></p>
            <button id="alert-ok-btn">ok</button>
        </div>
    </div>

    <!-- Video nền -->
    <video autoplay loop muted id="background-video">
        <source src="nendong.mp4" type="video/mp4">
    </video>

    <!-- Thẻ audio để xử lý nhạc -->
    <audio id="audio" src="song.mp3"></audio>

    <!-- Container chính (bị ẩn lúc đầu) -->
    <div class="main-container">
        <!-- Thẻ thông tin cá nhân (Profile Card) -->
        <div class="profile-card">
            <span id="copy-tooltip">Đã sao chép!</span>
            <img src="avatar.png" alt="Avatar" class="avatar">
            <p class="username">alwaysisviolet</p>
            <div class="social-links">
                <a onclick="copyToClipboard('alwaysisviolet')"><img src="Discord.png" alt="Discord"></a>
                <a href="https://www.facebook.com/always.sviolet" target="_blank"><img src="Facebook.png" alt="Facebook"></a>
                <a onclick="copyToClipboard('ledaithanhnd2ctp@gmail.com')"><img src="Mail.png" alt="Email"></a>
            </div>
        </div>

        <!-- Trình phát nhạc (Music Player) -->
        <div class="music-player">
            <img src="track-art.png" id="track-art" alt="Track Art">
            <div class="track-info">
                <div id="track-title">Ngày mùa đông</div>
                <div id="track-artist">Chillies</div>
                <div class="progress-container" id="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="time-stamps">
                    <span id="current-time">0:00</span>
                    <span id="duration">0:00</span>
                </div>
            </div>
            <div class="controls">
                <button id="prev-btn" class="control-btn"><i class="fas fa-backward"></i></button>
                <button id="play-btn" class="control-btn play-pause"><i class="fas fa-play"></i></button>
                <button id="next-btn" class="control-btn"><i class="fas fa-forward"></i></button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // --- SCRIPT CHO TOOLTIP SAO CHÉP ---
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                const tooltip = document.getElementById('copy-tooltip');
                tooltip.classList.add('visible');
                setTimeout(function() {
                    tooltip.classList.remove('visible');
                }, 2000);
            }, function(err) {
                console.error('Lỗi sao chép: ', err);
                alert("Rất tiếc, sao chép đã thất bại!");
            });
        }

        // --- SCRIPT CHO TRANG WEB ---
        const landingScreen = document.getElementById('landing-screen');
        const mainContainer = document.querySelector('.main-container');
        const musicPlayer = document.querySelector('.music-player');
        const playBtn = document.getElementById('play-btn');
        const audio = document.getElementById('audio');
        const progressContainer = document.getElementById('progress-container');
        const progressBar = document.getElementById('progress-bar');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');

        // --- SCRIPT CHO TƯƠNG TÁC MÀN HÌNH CHỜ ---
        const yesBtn = document.getElementById('yes-btn');
        const noBtn = document.getElementById('no-btn');
        const customAlert = document.getElementById('custom-alert');
        const alertMessage = document.getElementById('alert-message');
        const alertOkBtn = document.getElementById('alert-ok-btn');
        let noClickCount = 0;

        const messages = [
            "ơ thế ấn vào link làm gì?",
            "ấn có đi làm ơn",
            "thôi thế chịu rồi"
        ];

        function showAlert(message) {
            alertMessage.textContent = message;
            customAlert.classList.remove('hidden');
        }

        yesBtn.addEventListener('click', enterWebsite);

        noBtn.addEventListener('click', () => {
            if (noClickCount < messages.length) {
                showAlert(messages[noClickCount]);
                noClickCount++;
            }
        });

        alertOkBtn.addEventListener('click', () => {
            customAlert.classList.add('hidden');
            if (noClickCount >= 3) {
                noBtn.classList.add('hidden');
            }
        });

        function enterWebsite() {
            landingScreen.style.opacity = '0';
            setTimeout(() => {
                landingScreen.style.display = 'none';
            }, 500);

            mainContainer.style.display = 'flex';
            setTimeout(() => {
                mainContainer.style.opacity = '1';
            }, 10);

            playSong();
        }

        // --- SCRIPT CHO TRÌNH PHÁT NHẠC ---
        function playSong() {
            musicPlayer.classList.add('playing');
            playBtn.querySelector('i.fas').classList.remove('fa-play');
            playBtn.querySelector('i.fas').classList.add('fa-pause');
            audio.play();
        }

        function pauseSong() {
            musicPlayer.classList.remove('playing');
            playBtn.querySelector('i.fas').classList.add('fa-play');
            playBtn.querySelector('i.fas').classList.remove('fa-pause');
            audio.pause();
        }

        function updateProgress(e) {
            const { duration, currentTime } = e.srcElement;
            const progressPercent = (currentTime / duration) * 100;
            progressBar.style.width = `${progressPercent}%`;
            if (duration) {
                let durationMinutes = Math.floor(duration / 60);
                let durationSeconds = Math.floor(duration % 60);
                if (durationSeconds < 10) durationSeconds = `0${durationSeconds}`;
                durationEl.textContent = `${durationMinutes}:${durationSeconds}`;
            }
            let currentMinutes = Math.floor(currentTime / 60);
            let currentSeconds = Math.floor(currentTime % 60);
            if (currentSeconds < 10) currentSeconds = `0${currentSeconds}`;
            currentTimeEl.textContent = `${currentMinutes}:${currentSeconds}`;
        }
        
        function setProgress(e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        }
        
        playBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            const isPlaying = musicPlayer.classList.contains('playing');
            isPlaying ? pauseSong() : playSong();
        });

        audio.addEventListener('timeupdate', updateProgress);
        audio.addEventListener('loadedmetadata', updateProgress);
        progressContainer.addEventListener('click', setProgress);
        audio.addEventListener('ended', pauseSong);
    </script>
</body>
</html>


